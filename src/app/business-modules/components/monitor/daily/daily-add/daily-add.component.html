<div style="height: 100%;background:#fff">
  <div class="div_top_add">
    日常监督信息
  </div>

  <div class="div_contain_add" *ngIf="isShow == false" [appPageHeight]='300'>
    <div nz-row class="ma_b20">
      <div nz-col [nzSpan]="4" class="ta_r">
        <span class="clo_r">*</span>营运单位：
      </div>
      <div nz-col [nzSpan]="8" class="ta_l">
        <nz-select [(ngModel)]="data.serviceId" style="width: 100%" (ngModelChange)="serviceDepartChange($event)"
          required [validation]="true" nzAllowClear nzShowSearch nzPlaceHolder="请选择营运单位">
          <nz-option *ngFor="let option of serviceDepartList" [nzLabel]="option.name" [nzValue]="option.id">
          </nz-option>
        </nz-select>
      </div>
    </div>

    <div nz-row class="ma_b20">
      <div nz-col [nzSpan]="4" class="ta_r">
        设施名称：
      </div>
      <div nz-col [nzSpan]="8" class="ta_l">
        <nz-select [(ngModel)]="data.facId" style="width: 100%" nzAllowClear nzShowSearch nzPlaceHolder="请选择设施名称">
          <nz-option *ngFor="let option of facList" [nzLabel]="option.name" [nzValue]="option.id">
          </nz-option>
        </nz-select>
      </div>

      <div nz-col [nzSpan]="4" class="ta_r">
        设施状态：
      </div>
      <div nz-col [nzSpan]="8" class="ta_l">
        <nz-select [(ngModel)]="data.statusId" style="width: 100%" nzAllowClear nzShowSearch nzPlaceHolder="请选择设施状态">
          <nz-option *ngFor="let option of dictionary.config_fac_status" [nzLabel]="option.value" [nzValue]="option.id">
          </nz-option>
        </nz-select>
      </div>
    </div>

    <div nz-row class="ma_b20">
      <div nz-col [nzSpan]="4" class="ta_r">
        <span class="clo_r">*</span>授权监管机构：
      </div>
      <div nz-col [nzSpan]="8" class="ta_l">
        <nz-select name="org" [(ngModel)]="data.orgId" style="width: 100%" required [validation]="true" nzAllowClear
          nzShowSearch nzPlaceHolder="请选择授权监管机构">
          <nz-option *ngFor="let option of orgList" [nzLabel]="option.name" [nzValue]="option.id">
          </nz-option>
        </nz-select>
      </div>
    </div>

    <div nz-row class="ma_b20">
      <div nz-col [nzSpan]="4" class="ta_r">
        文件名称：
      </div>
      <div nz-col [nzSpan]="8" class="ta_l">
        <input nz-input name="fileName" [(ngModel)]="data.fileName" placeholder="请输入文件名称" 
        [validation]="true"
        [validationType]="'maxlength'" [validationLenth]="30"/>
      </div>

      <div nz-col [nzSpan]="4" class="ta_r">
        <span class="clo_r">*</span>文件类型：
      </div>
      <div nz-col [nzSpan]="8" class="ta_l">
        <nz-select [(ngModel)]="data.fileTypeId" style="width: 100%" required [validation]="true" nzAllowClear
          nzShowSearch nzPlaceHolder="请选择文件类型">
          <nz-option *ngFor="let option of dictionary.config_monitor_daily_file_type" [nzLabel]="option.value"
            [nzValue]="option.id">
          </nz-option>
        </nz-select>
      </div>
    </div>

    <div nz-row class="ma_b20">
      <div nz-col [nzSpan]="4" class="ta_r">
        <span class="clo_r">*</span>文件时间：
      </div>
      <div nz-col [nzSpan]="8" class="ta_l">
        <nz-month-picker name="fileDate" [(ngModel)]="data.fileDate" required [validation]="true">
        </nz-month-picker>
      </div>
    </div>

    <app-attachment [fileList]="fileList" [moduleName]="'日常监督信息'" [refid]="data.id" [isDisable]="isShow" #child></app-attachment>
  </div>

  <div class="div_contain_add" *ngIf="isShow == true" [appPageHeight]='300'>
    <div nz-row class="ma_b20">
      <div nz-col [nzSpan]="4" class="ta_r">
        营运单位：
      </div>
      <div nz-col [nzSpan]="8" class="ta_l">
        <span name="serviceDepartName" class="showText">{{
          data.serviceDepartName
        }}</span>
      </div>
    </div>

    <div nz-row class="ma_b20">
      <div nz-col [nzSpan]="4" class="ta_r">
        设施名称：
      </div>
      <div nz-col [nzSpan]="8" class="ta_l">
        <span name="facName" class="showText">{{ data.facName }}</span>
      </div>

      <div nz-col [nzSpan]="4" class="ta_r">
        设施状态：
      </div>
      <div nz-col [nzSpan]="8" class="ta_l">
        <span name="statusValue" class="showText">{{ data.statusValue }}</span>
      </div>
    </div>

    <div nz-row class="ma_b20">
      <div nz-col [nzSpan]="4" class="ta_r">
        授权监管机构：
      </div>
      <div nz-col [nzSpan]="8" class="ta_l">
        <span name="orgName" class="showText">{{ data.orgName }}</span>
      </div>
    </div>

    <div nz-row class="ma_b20">
      <div nz-col [nzSpan]="4" class="ta_r">
        文件名称：
      </div>
      <div nz-col [nzSpan]="8" class="ta_l">
        <span name="fileName" class="showText">{{ data.fileName }}</span>
      </div>

      <div nz-col [nzSpan]="4" class="ta_r">
        文件类型：
      </div>
      <div nz-col [nzSpan]="8" class="ta_l">
        <span name="fileTypeValue" class="showText">{{
          data.fileTypeValue
        }}</span>
      </div>
    </div>

    <div nz-row class="ma_b20">
      <div nz-col [nzSpan]="4" class="ta_r">
        文件时间：
      </div>
      <div nz-col [nzSpan]="8" class="ta_l">
        <span name="fileDate" class="showText">{{
          data.fileDate | recordtime: 'month'
        }}</span>
      </div>
    </div>

    <app-attachment [fileList]="fileList" [moduleName]="'日常监督信息'" [refid]="data.id" [isDisable]="isShow" #child></app-attachment>
  </div>

  <div nz-row [nzType]="'flex'" [nzAlign]="'middle'" class="div_bottom_add" [nzJustify]="'end'">
    <button nz-button nzType="primary" (click)="save()" *ngIf="!isShow" style="margin-right: 10px;"
      [nzLoading]="isSaving">
      保存
    </button>
    <button nz-button nzType="default" (click)="close()">关闭</button>
  </div>
</div>