<div style="height: 100%;background:#fff">
  <div class="div_top_add">
    铀矿山井下消防许可信息
  </div>
  <div class="div_contain_add" *ngIf="isShow==false" [appPageHeight]='300'>

    <div nz-row class="ma_b20">
      <div nz-col [nzSpan]="4" class="ta_r">
        <span class="clo_r">*</span>营运单位：
      </div>
      <div nz-col [nzSpan]="8" class="ta_l">
        <nz-select [(ngModel)]="data.umineId" style="width: 100%"  required [validation]="true" (ngModelChange)="changeunitUmineMountains($event)">
          <nz-option *ngFor="let option of unitUmines" [nzLabel]="option.name" [nzValue]="option.id">
          </nz-option>
        </nz-select>
      </div>

      <div nz-col [nzSpan]="4" class="ta_r">
        <span class="clo_r">*</span>铀矿山名称：
      </div>
      <div nz-col [nzSpan]="8" class="ta_l">
        <nz-select [(ngModel)]="data.umineMountainId" style="width: 100%"  required [validation]="true">
          <nz-option *ngFor="let option of umineMountains" [nzLabel]="option.name" [nzValue]="option.id">
          </nz-option>
        </nz-select>
      </div>
    </div>

    <div nz-row class="ma_b20">
      <div nz-col [nzSpan]="4" class="ta_r">
        <span class="clo_r">*</span>备案时间：
      </div>
      <div nz-col [nzSpan]="4" class="ta_l">
        <nz-date-picker name="recordDate" [(ngModel)]="data.recordDate" required [validation]="true">
        </nz-date-picker>
      </div>

      <div nz-col [nzSpan]="4" [nzOffset]="4" class="ta_r">
        <span class="clo_r">*</span>备案文号：
      </div>
      <div nz-col [nzSpan]="8" class="ta_l">
        <input nz-input name="recordNumber" [(ngModel)]="data.recordNumber" required [validation]="true" />
      </div>
    </div>

    <div nz-row class="ma_b20">
      <div nz-col [nzSpan]="4" class="ta_r">
        验收时间：
      </div>
      <div nz-col [nzSpan]="8" class="ta_l">
        <nz-date-picker name="acceptDate" [(ngModel)]="data.acceptDate">
        </nz-date-picker>
      </div>

      <div nz-col [nzSpan]="4" class="ta_r">
        验收文号：
      </div>
      <div nz-col [nzSpan]="8" class="ta_l">
        <input nz-input name="acceptNumber" [(ngModel)]="data.acceptNumber" />
      </div>
    </div>

    <div nz-row class="ma_b20" [nzType]="'flex'" [nzAlign]="'top'">
      <div nz-col [nzSpan]="4" class="ta_r">
        主要备案条件：
      </div>
      <div nz-col [nzSpan]="20" class="ta_l">
        <textarea nz-input name="recordCondition" style="height: 70px;" [(ngModel)]="data.recordCondition"></textarea>
      </div>
    </div>

    <div nz-row class="ma_b20" [nzType]="'flex'" [nzAlign]="'top'">
      <div nz-col [nzSpan]="4" class="ta_r">
        审评承诺：
      </div>
      <div nz-col [nzSpan]="20" class="ta_l">
        <textarea nz-input name="reviewPromise" style="height: 70px;" [(ngModel)]="data.reviewPromise"></textarea>
      </div>
    </div>

    <div nz-row class="ma_b20" [nzType]="'flex'" [nzAlign]="'top'">
      <div nz-col [nzSpan]="4" class="ta_r">
        主要验收结论：
      </div>
      <div nz-col [nzSpan]="20" class="ta_l">
        <textarea nz-input name="acceptConclusion" style="height: 70px;" [(ngModel)]="data.acceptConclusion"></textarea>
      </div>
    </div>

    <nz-tabset nzTabPosition='top'>
      <nz-tab nzTitle="备案附件">
        <app-attachment [fileList]="backupFileList" [refid]="data.recordAttachId" [isDisable]="isShow"></app-attachment>
      </nz-tab>
      <nz-tab nzTitle="验收附件">
        <app-attachment [fileList]="acceptFileList" [refid]="data.acceptAttachId" [isDisable]="isShow"></app-attachment>
      </nz-tab>
    </nz-tabset>

  </div>

  <div class="div_contain_add" *ngIf="isShow==true" [appPageHeight]='300'>

    <div nz-row class="ma_b20">
      <div nz-col [nzSpan]="4" class="ta_r">
        营运单位：
      </div>
      <div nz-col [nzSpan]="8" class="ta_l">
        <span name="umineName" class="showText">{{data.umineName}}</span>
      </div>

      <div nz-col [nzSpan]="4" class="ta_r">
        铀矿山名称：
      </div>
      <div nz-col [nzSpan]="8" class="ta_l">
        <span name="umineMountainName" class="showText">{{data.umineMountainName}}</span>
      </div>
    </div>

    <div nz-row class="ma_b20">
      <div nz-col [nzSpan]="4" class="ta_r">
        备案时间：
      </div>
      <div nz-col [nzSpan]="8" class="ta_l">
        <span name="recordDate" class="showText">{{data.recordDate|recordtime}}</span>
      </div>

      <div nz-col [nzSpan]="4" class="ta_r">
        备案文号：
      </div>
      <div nz-col [nzSpan]="8" class="ta_l">
        <span name="recordNumber" class="showText">{{data.recordNumber}}</span>
      </div>
    </div>

    <div nz-row class="ma_b20">
      <div nz-col [nzSpan]="4" class="ta_r">
        验收时间：
      </div>
      <div nz-col [nzSpan]="8" class="ta_l">
        <span name="acceptDate" class="showText">{{data.acceptDate|recordtime}}</span>
      </div>

      <div nz-col [nzSpan]="4" class="ta_r">
        验收文号：
      </div>
      <div nz-col [nzSpan]="8" class="ta_l">
        <span name="acceptNumber" class="showText">{{data.acceptNumber}}</span>
      </div>
    </div>

    <div nz-row class="ma_b20" [nzType]="'flex'" [nzAlign]="'top'">
      <div nz-col [nzSpan]="4" class="ta_r">
        主要备案条件：
      </div>
      <div nz-col [nzSpan]="20" class="ta_l">
        <div  class="showTextArea">{{data.recordCondition}}</div>
      </div>
    </div>

    <div nz-row class="ma_b20" [nzType]="'flex'" [nzAlign]="'top'">
      <div nz-col [nzSpan]="4" class="ta_r">
        审评承诺：
      </div>
      <div nz-col [nzSpan]="20" class="ta_l">
        <div  class="showTextArea">{{data.reviewPromise}}</div>
      </div>
    </div>

    <div nz-row class="ma_b20" [nzType]="'flex'" [nzAlign]="'top'">
      <div nz-col [nzSpan]="4" class="ta_r">
        主要验收结论：
      </div>
      <div nz-col [nzSpan]="20" class="ta_l">
        <div  class="showTextArea">{{data.acceptConclusion}}</div>
      </div>
    </div>

    <nz-tabset nzTabPosition='top'>
      <nz-tab nzTitle="备案附件">
        <app-attachment [fileList]="backupFileList" [refid]="data.recordAttachId" [isDisable]="isShow"></app-attachment>
      </nz-tab>
      <nz-tab nzTitle="验收附件">
        <app-attachment [fileList]="acceptFileList" [refid]="data.acceptAttachId" [isDisable]="isShow"></app-attachment>
      </nz-tab>
    </nz-tabset>

  </div>

  <div nz-row [nzType]="'flex'" [nzAlign]="'middle'" class="div_bottom_add" [nzJustify]="'end'">
    <button nz-button nzType="primary" (click)="save()" *ngIf="!isShow" style="margin-right: 10px;"
      [nzLoading]="isSaving">
      保存
    </button>
    <button nz-button nzType="default" (click)="close()">关闭</button>
  </div>
</div>