<div style="height: 100%;">
    <div nz-row style="height: 40px;">
        <div nz-col [nzSpan]="5">
            姓名
            <input nz-input nzSize="default" [(ngModel)]="name" class="w200">
        </div>
        <div nz-col [nzSpan]="5">
            所属单位
            <nz-select [(ngModel)]="orgId" class="w200">
                <nz-option *ngFor="let option of orgList" [nzLabel]="option.name" [nzValue]="option.id">
                </nz-option>
            </nz-select>
        </div>
        <div nz-col [nzSpan]="5">
            到期时间
            <nz-date-picker class="w200" [(ngModel)]="expireDate" >
            </nz-date-picker>
        </div>

        <div nz-col [nzSpan]="4" [nzOffset]="5" class="ta_r">
            <button nz-button nzType="primary" style="width: 70px; margin-right: 10px;" (click)="search()">查询</button>
            <button nz-button nzType="default" style="width: 70px;" (click)="reset()">重置</button>
        </div>
    </div>

    <div nz-row class="div_contain">

        <div class="div_top">
            <div class="fl div_top_tip">

            </div>
            <div class="fl" style="color: #0050b3;">
                核安全监管员信息列表（共{{totalCount}}条）
            </div>

            <div class="fr">
                <button nz-button nzType="danger" class="delbtn" nz-popconfirm nzTitle="确定删除吗?" (nzOnConfirm)="delete()">删除</button>
            </div>

            <div class="fr">
                <button nz-button nzType="primary" style=" margin-right: 10px;" class="addbtn" (click)="add()">添加</button>
            </div>

        </div>
        <div>
            <nz-table #nestedTable [nzData]="dataSet" class="commontable tablescoll_rainbow" [nzFrontPagination]="false" [nzPageIndex]="pageIndex" nzShowSizeChanger
                [nzPageSize]="pageSize" [nzTotal]="totalCount" (nzPageIndexChange)="pageIndexChange($event)" (nzPageSizeChange)="pageSizeChange($event)"
                >
                <thead>
                    <tr>
                        <th nzShowCheckbox [(nzChecked)]="allChecked" [nzIndeterminate]="indeterminate" (nzCheckedChange)="checkAll($event)"></th>
                        <th>序号</th>
                        <th>姓名</th>
                        <th>出生年月</th>
                        <th>所属单位</th>
                        <th>入职时间</th>
                        <th>职称</th>
                        <th>操作</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let data of nestedTable.data;index as index" [ngClass]="{true:'out_valid',false:''}[data.valid==0]">
                        <td nzShowCheckbox [(nzChecked)]="data.checked" (nzCheckedChange)="refreshStatus()"></td>
                        <td>{{index+1}}</td>
                        <td>{{data.name}}</td>
                        <td>{{data.birthday|recordtime}}</td>
                        <td>{{data.orgName}}</td>
                        <td>{{data.entryDate|recordtime}}</td>
                        <td>{{data.titleName}}</td>
                        <td>
                            <a (click)="show(data,true)">查看</a>
                            <nz-divider nzType="vertical"></nz-divider>
                            <a (click)="show(data,false)">编辑</a>
                            <nz-divider nzType="vertical"></nz-divider>
                            <a (click)="goChildManage(data)">子项管理</a>
                        </td>
                    </tr>
                </tbody>
            </nz-table>
        </div>

    </div>
</div>